# Logging System

As I work more with Linux systems, I quickly learn that logs are the first place to look when something goes wrong. The logging system records system events, service activity, errors, and security-related information. In this section, I break down how Linux logging works, where logs are stored, and how to read and manage them effectively.

---

## What Are Logs?

Logs are records of events generated by:
- The operating system
- System services
- Applications
- Security mechanisms

They help me:
- Troubleshoot problems
- Monitor system health
- Investigate security incidents

---

## Where Logs Are Stored

Most Linux logs are stored in:
/var/log

Common log files:
- syslog → general system activity
- auth.log → authentication and sudo activity
- kern.log → kernel messages
- dmesg → boot and hardware messages
- boot.log → system startup messages

Log file names can vary slightly by distribution.

---

## Viewing Log Files

To view a log file:
cat /var/log/syslog

To scroll through logs:
less /var/log/syslog

To see the most recent entries:
tail /var/log/syslog

To follow logs in real time:
tail -f /var/log/syslog

---

## Authentication Logs

Authentication activity is logged in:
- /var/log/auth.log

This includes:
- Login attempts
- SSH access
- sudo usage
- Failed authentication attempts

This is a key file for security monitoring.

---

## Kernel Logs

Kernel-related messages are stored in:
- /var/log/kern.log

To view kernel messages:
dmesg

This is useful for:
- Hardware issues
- Driver problems
- Boot diagnostics

---

## systemd and journald

Modern Linux systems use systemd’s logging system called journald.

To view logs:
journalctl

To view recent logs:
journalctl -n 50

To follow logs in real time:
journalctl -f

---

## Filtering journalctl Logs

View logs for a specific service:
journalctl -u ssh

View logs from the current boot:
journalctl -b

View logs by priority:
journalctl -p err

---

## Log Levels

Logs are categorized by severity.

Common levels:
- emerg → system unusable
- alert → immediate action required
- crit → critical conditions
- err → errors
- warning → warnings
- notice → normal but significant
- info → informational
- debug → debugging messages

Higher severity means more urgent.

---

## Log Rotation

Logs grow over time and can fill disks.

Linux uses logrotate to manage this.

Log rotation:
- Compresses old logs
- Deletes old entries
- Keeps disk usage under control

Configuration files:
- /etc/logrotate.conf
- /etc/logrotate.d/

---

## Searching Logs

Search logs using grep:
grep "error" /var/log/syslog

Search authentication failures:
grep "Failed" /var/log/auth.log

Combine with less:
grep "ssh" /var/log/auth.log | less

---

## Monitoring Logs in Real Time

To watch activity as it happens:
tail -f /var/log/auth.log

Or with journald:
journalctl -f

This is useful during troubleshooting or active monitoring.

---

## Practical Log Troubleshooting

Here’s how I typically use logs:

If a service won’t start:
journalctl -u service_name

If SSH isn’t working:
less /var/log/auth.log

If hardware isn’t detected:
dmesg

If the system is slow or unstable:
less /var/log/syslog

---

## Permissions on Log Files

Most log files require root access.

Use sudo to read protected logs:
sudo less /var/log/auth.log

This protects sensitive system information.

---

## Good Logging Habits

- Check logs before restarting services
- Use journalctl for systemd-based systems
- Monitor authentication logs regularly
- Watch disk usage in /var/log
- Learn common error patterns

---

## Key Takeaway

Logs are the backbone of Linux troubleshooting and security analysis. Once I know where logs live and how to read them, diagnosing system issues becomes faster, more accurate, and far less frustrating.
